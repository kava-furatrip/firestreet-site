backend:
  name: git-gateway
  branch: main

local_backend: true

locale: "ru"

# Куда админка будет складывать загруженные файлы
media_folder: "Images"
public_folder: "/Images"

site_url: "https://firestreet.ru"

collections:
  # ---- Главная страница (оставляем простой набор полей) ----
  - name: "home"
    label: "Главная страница"
    file: "content/home.json"
    format: "json"
    fields:
      - { label: "ID (не трогать)", name: "id", widget: "hidden", default: "home" }

      - label: "Главный заголовок"
        name: "heroTitle"
        widget: "string"

      - label: "Подзаголовок под заголовком"
        name: "heroSubtitle"
        widget: "text"

      - label: "Буллеты в главном блоке"
        name: "heroBullets"
        widget: "list"
        field:
          label: "Пункт"
          name: "text"
          widget: "string"

      - label: "Основной телефон (для кнопок)"
        name: "mainPhone"
        widget: "string"

      - label: "Заголовок блока “Чем мы занимаемся”"
        name: "servicesTitle"
        widget: "string"

      - label: "Список услуг"
        name: "services"
        widget: "list"
        field:
          label: "Услуга"
          name: "text"
          widget: "string"

  # ---- Портфолио: до / после ----
  - name: "portfolio"
    label: "Портфолио: До / После"
    file: "content/portfolio.json"
    format: "json"
    fields:
      - label: "Работы"
        name: "items"
        widget: "list"
        summary: "{{fields.title}}"
        fields:
          - label: "Название объекта"
            name: "title"
            widget: "string"

          - label: "Описание (отображается под фото)"
            name: "description"
            widget: "text"
            required: false

          - label: "Фото ДО"
            name: "before"
            widget: "image"

          - label: "Фото ПОСЛЕ"
            name: "after"
            widget: "image"

  # ---- Видео ----
  - name: "videos"
    label: "Видео"
    file: "content/videos.json"
    format: "json"
    fields:
      - label: "Ролики"
        name: "items"
        widget: "list"
        summary: "{{fields.title}}"
        fields:
          - label: "Название ролика"
            name: "title"
            widget: "string"

          - label: "Описание (опционально)"
            name: "description"
            widget: "text"
            required: false

          # тут можно и загрузить файл, и просто вставить ссылку
          - label: "Файл или ссылка"
            name: "src"
            widget: "file"
            media_folder: "Video"
            public_folder: "/Video"
